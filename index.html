<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Quiz Divisibilité Minimaliste Suisse</title>

<style>
  /* Placeholder font-faces - à remplacer avec les vraies polices */
  @font-face {
    font-family: 'Androgy Demo';
    src: url('fonts/AndrogyDemo-Regular.woff2') format('woff2'),
         url('fonts/AndrogyDemo-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
  }
  @font-face {
    font-family: 'Mabry Pro';
    src: url('fonts/MabryPro-Regular.woff2') format('woff2'),
         url('fonts/MabryPro-Regular.woff') format('woff');
    font-weight: 400;
    font-style: normal;
  }

  /* Reset */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  body, html {
    margin: 0; padding: 0; height: 100%;
    background: #FFF6FB; /* Rose pâle */
    font-family: 'Mabry Pro', sans-serif;
    color: #3B3B3B;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  main#quiz {
    background: white;
    max-width: 480px;
    width: 100%;
    padding: 48px 36px;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(213,124,192,0.2); /* Rose vif clair */
    display: flex;
    flex-direction: column;
    gap: 36px;
    text-align: center;
  }

  /* Titre avec Androgy Demo, capitaliser seulement la première lettre */
  h1 {
    font-family: 'Androgy Demo', sans-serif;
    font-weight: 400;
    font-size: 3rem;
    margin: 0;
    line-height: 1.1;
    color: #D57CC0;
    text-transform: lowercase;
  }
  h1::first-letter {
    text-transform: uppercase;
  }

  /* Question style */
  .question {
    font-family: 'Androgy Demo', sans-serif;
    font-weight: 400;
    font-size: 1.7rem;
    line-height: 1.3;
    margin: 0;
    color: #6A4A77;
    text-transform: lowercase;
  }
  .question::first-letter {
    text-transform: uppercase;
  }

  /* Boutons réponses */
  .answers {
    display: flex;
    flex-direction: column;
    gap: 18px;
    margin-top: 12px;
  }

  button.answer-btn {
    font-family: 'Mabry Pro', sans-serif;
    font-weight: 400;
    font-size: 1.15rem;
    padding: 18px 28px;
    background-color: #F4D7F7; /* rose pastel */
    border: none;
    border-radius: 14px;
    cursor: pointer;
    text-align: left;
    color: #3B3B3B;
    transition: background-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
    letter-spacing: 0.02em;
    line-height: 1.4;
    user-select: none;
  }
  button.answer-btn:hover,
  button.answer-btn.selected {
    background-color: #D57CC0;
    color: white;
    box-shadow: 0 0 0 2px #AD4FA0;
  }

  /* Bouton suivant */
  #nextBtn {
    align-self: center;
    font-family: 'Androgy Demo', sans-serif;
    font-weight: 400;
    font-size: 1.5rem;
    padding: 14px 48px;
    background-color: #D57CC0;
    color: white;
    border: none;
    border-radius: 24px;
    cursor: pointer;
    letter-spacing: 0.06em;
    transition: background-color 0.3s ease;
    display: none;
    margin-top: 20px;
  }
  #nextBtn:hover {
    background-color: #AD4FA0;
  }

  /* Résultat */
  #result {
    font-family: 'Androgy Demo', sans-serif;
    font-weight: 400;
    font-size: 1.8rem;
    color: #6A4A77;
    margin-top: 28px;
  }

</style>
</head>
<body>
  <main id="quiz" role="main" aria-label="Quiz sur la divisibilité">
    <h1>Quiz : divisibilite</h1>
    <section aria-live="polite">
      <p class="question" id="question"></p>
      <div class="answers">
        <button class="answer-btn" id="answerA" aria-pressed="false"></button>
        <button class="answer-btn" id="answerB" aria-pressed="false"></button>
      </div>
      <button id="nextBtn" aria-disabled="true">Suivant</button>
      <div id="result" role="alert" aria-live="assertive"></div>
    </section>
  </main>

<script>
  const quizData = [
    {
      question: "un nombre est divisible par 2",
      a: "si son chiffre des unités est pair (0, 2, 4, 6 ou 8)",
      b: "si son chiffre des unités est impair (1, 3, 5, 7, 9)",
      correct: "a"
    },
    {
      question: "un nombre entier est divisible par 3",
      a: "si la somme de ses chiffres est divisible par 3",
      b: "si la somme de ses chiffres est divisible par 6",
      correct: "a"
    },
    {
      question: "un nombre entier est divisible par 4",
      a: "si le nombre formé par son chiffre des dizaines et son chiffre des unités est divisible par 4",
      b: "si la somme de ses chiffres est divisible par 4",
      correct: "a"
    },
    {
      question: "un nombre entier est divisible par 5",
      a: "si son chiffre des unités est 0 ou 5",
      b: "si son chiffre des dizaines est 0 ou 5",
      correct: "a"
    },
    {
      question: "un nombre entier est divisible par 9",
      a: "si la somme de ses chiffres est divisible par 9",
      b: "si le nombre formé par ses deux derniers chiffres est divisible par 9",
      correct: "a"
    },
    {
      question: "un nombre entier est divisible par 10",
      a: "si son chiffre des unités est 0",
      b: "si son chiffre des dizaines est 0",
      correct: "a"
    }
  ];

  let currentQuestion = 0;
  let score = 0;
  let selectedAnswer = null;

  const questionEl = document.getElementById("question");
  const answerA = document.getElementById("answerA");
  const answerB = document.getElementById("answerB");
  const nextBtn = document.getElementById("nextBtn");
  const resultEl = document.getElementById("result");

  function loadQuestion() {
    selectedAnswer = null;
    nextBtn.style.display = "none";
    nextBtn.setAttribute('aria-disabled', 'true');
    resultEl.textContent = "";
    questionEl.style.display = 'block';
    answerA.style.display = 'block';
    answerB.style.display = 'block';

    const q = quizData[currentQuestion];
    questionEl.textContent = q.question;
    answerA.textContent = "a) " + q.a;
    answerB.textContent = "b) " + q.b;

    answerA.classList.remove("selected");
    answerB.classList.remove("selected");
    answerA.setAttribute('aria-pressed', 'false');
    answerB.setAttribute('aria-pressed', 'false');

    answerA.disabled = false;
    answerB.disabled = false;
  }

  function selectAnswer(answer) {
    selectedAnswer = answer;
    answerA.classList.remove("selected");
    answerB.classList.remove("selected");
    if (answer === "a") {
      answerA.classList.add("selected");
      answerA.setAttribute('aria-pressed', 'true');
      answerB.setAttribute('aria-pressed', 'false');
    }
    if (answer === "b") {
      answerB.classList.add("selected");
      answerB.setAttribute('aria-pressed', 'true');
      answerA.setAttribute('aria-pressed', 'false');
    }
    nextBtn.style.display = "inline-block";
    nextBtn.setAttribute('aria-disabled', 'false');
  }

  function showResult() {
    questionEl.style.display = 'none';
    answerA.style.display = 'none';
    answerB.style.display = 'none';
    nextBtn.style.display = 'none';

    resultEl.textContent = `Ton score est ${score} / ${quizData.length}`;
  }

  answerA.addEventListener("click", () => selectAnswer("a"));
  answerB.addEventListener("click", () => selectAnswer("b"));

  nextBtn.addEventListener("click", () => {
    if (!selectedAnswer) return;

    if (selectedAnswer === quizData[currentQuestion].correct) {
      score++;
    }

    currentQuestion++;

    if (currentQuestion < quizData.length) {
      loadQuestion();
    } else {
      showResult();
    }
  });

  loadQuestion();
</script>
</body>
</html>
