<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cartes dâ€™Angles</title>

  <!-- Polices -->
  <link href="https://fonts.googleapis.com/css2?family=Mabry+Pro&display=swap" rel="stylesheet" />
  <style>
    :root {
      --primary-color: #3a86ff;
      --secondary-color: #8338ec;
      --correct-color: #4caf50;
      --wrong-color: #e63946;
      --background-color: #f0f4f8;
      --card-veil: rgba(58, 134, 255, 0.08);
      --border-radius: 12px;
      --transition: 0.3s ease;
    }

    body {
      font-family: 'Mabry Pro', sans-serif;
      background: var(--background-color);
      margin: 0;
      padding: 2rem;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      color: var(--primary-color);
      margin-bottom: 2rem;
    }

    .stack {
      position: relative;
      width: 320px;
      height: 360px;
    }

    .card {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--card-veil);
      border: 2px solid var(--primary-color);
      border-radius: var(--border-radius);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
      padding: 1.5rem;
      text-align: center;
      transition: transform 0.5s ease, opacity 0.5s ease;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      backdrop-filter: blur(6px);
    }

    .card.current {
      background: white;
      z-index: 10;
    }

    .card:not(.current) {
      opacity: 0.6;
      transform: translateY(20px) scale(0.95);
      z-index: 0;
    }

    .question {
      font-size: 1.2rem;
      color: var(--secondary-color);
      margin-bottom: 1rem;
    }

    .angle-svg {
      width: 100px;
      height: 100px;
      margin: 1rem auto;
    }

    svg line {
      stroke: var(--primary-color);
      stroke-width: 4;
    }

    svg path.arc {
      stroke: var(--primary-color);
      stroke-width: 3;
      fill: none;
    }

    .response {
      margin-top: 1rem;
    }

    input[type="text"] {
      width: 100%;
      padding: 0.5rem;
      font-size: 1rem;
      border-radius: var(--border-radius);
      border: 2px solid #ccc;
      outline: none;
      transition: border-color 0.3s ease;
    }

    input.correct {
      border-color: var(--correct-color);
      background-color: #d4edda;
    }

    input.wrong {
      border-color: var(--wrong-color);
      background-color: #f8d7da;
    }

  </style>
</head>
<body>

  <h1>RÃ©viser les Angles</h1>
  <div class="stack" id="cardStack"></div>

  <script>
    const cards = [
      {
        question: "Quel type dâ€™angle est reprÃ©sentÃ© ici ?",
        answer: "aigu",
        svg: `<svg class="angle-svg" viewBox="0 0 100 100">
          <line x1="20" y1="90" x2="50" y2="50" />
          <line x1="50" y1="50" x2="85" y2="75" />
          <path class="arc" d="M 55 55 A 10 10 0 0 1 65 60" />
        </svg>`
      },
      {
        question: "Quel type dâ€™angle mesure exactement 90Â° ?",
        answer: "droit",
        svg: `<svg class="angle-svg" viewBox="0 0 100 100">
          <line x1="20" y1="90" x2="50" y2="50" />
          <line x1="50" y1="50" x2="90" y2="50" />
          <path class="arc" d="M 55 50 A 10 10 0 0 1 50 45" />
        </svg>`
      },
      {
        question: "Quel type dâ€™angle mesure plus de 90Â° mais moins de 180Â° ?",
        answer: "obtus",
        svg: `<svg class="angle-svg" viewBox="0 0 100 100">
          <line x1="10" y1="90" x2="50" y2="50" />
          <line x1="50" y1="50" x2="85" y2="20" />
          <path class="arc" d="M 60 60 A 20 20 0 0 1 75 40" />
        </svg>`
      },
      {
        question: "Comment appelle-t-on un angle de 180Â° ?",
        answer: "plat",
        svg: `<svg class="angle-svg" viewBox="0 0 100 100">
          <line x1="10" y1="50" x2="90" y2="50" />
          <path class="arc" d="M 60 50 A 10 10 0 0 1 40 50" />
        </svg>`
      }
    ];

    let currentCard = 0;

    const stack = document.getElementById("cardStack");

    function renderCards() {
      stack.innerHTML = '';
      for (let i = cards.length - 1; i >= currentCard; i--) {
        const card = document.createElement("div");
        card.classList.add("card");
        if (i === currentCard) card.classList.add("current");

        card.innerHTML = `
          <div>
            <div class="question">${cards[i].question}</div>
            ${cards[i].svg}
          </div>
          <div class="response">
            <input type="text" placeholder="Votre rÃ©ponse" />
          </div>
        `;

        stack.appendChild(card);
      }

      const input = document.querySelector(".card.current input");
      input.focus();
      input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          const userInput = input.value.trim().toLowerCase();
          const correctAnswer = cards[currentCard].answer.toLowerCase();

          if (userInput === correctAnswer) {
            input.classList.add("correct");
          } else {
            input.classList.add("wrong");
          }

          setTimeout(() => {
            currentCard++;
            if (currentCard < cards.length) {
              renderCards();
            } else {
              stack.innerHTML = `<div class="card current"><h2>ðŸŽ‰ Bravo !</h2><p>Tu as terminÃ© toutes les cartes.</p></div>`;
            }
          }, 1000);
        }
      });
    }

    renderCards();
  </script>

</body>
</html>
